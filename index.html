<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>我的聊天应用</title>
    <style>
        /* 基础样式 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent; /* 移除移动端点击高亮 */
        }
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: #f5f5f5;
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', sans-serif;
            touch-action: manipulation; /* 优化触摸响应 */
        }
        
        /* 手机容器 */
        .phone-screen {
            width: 360px;
            height: 640px;
            background: #f9eef2;
            position: relative;
            overflow: hidden;
            box-shadow: 0 15px 35px rgba(140, 110, 130, 0.15);
            border-radius: 30px;
        }
        
        /* 景深效果层 */
        .phone-screen::before {
            content: "";
            position: absolute;
            top: -20px;
            left: -20px;
            right: -20px;
            bottom: -20px;
            background: 
                radial-gradient(circle at 30% 20%, rgba(200, 170, 180, 0.3) 0%, transparent 40%),
                radial-gradient(circle at 70% 80%, rgba(180, 150, 170, 0.3) 0%, transparent 40%);
            filter: blur(15px);
            z-index: -1;
        }
        
        /* iOS风格顶部状态栏 */
        .status-bar {
            display: flex;
            justify-content: space-between;
            padding: 12px 20px;
            position: relative;
            z-index: 10;
            font-size: 14px;
            font-weight: 600;
        }
        .status-left {
            display: flex;
            align-items: center;
            gap: 5px;
            color: #000;
        }
        .status-right {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        /* iOS风格电池图标 */
        .ios-battery {
            position: relative;
            width: 24px;
            height: 12px;
            margin-left: 4px;
        }
        .ios-battery-body {
            width: 22px;
            height: 12px;
            border: 1.5px solid #000;
            border-radius: 2.5px;
            position: absolute;
        }
        .ios-battery-cap {
            width: 3px;
            height: 5px;
            background: #000;
            position: absolute;
            right: -3px;
            top: 3px;
            border-radius: 0 1px 1px 0;
        }
        .ios-battery-level {
            position: absolute;
            top: 1.5px;
            left: 1.5px;
            width: 18px;
            height: 8px;
            background: #000;
            border-radius: 1px;
        }
        
        /* 黑色灵动岛 */
        .dynamic-island {
            position: absolute;
            top: 15px;
            left: 50%;
            transform: translateX(-50%);
            width: 120px;
            height: 32px;
            background: #000;
            border-radius: 20px;
            z-index: 9;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }
        
        /* 桌面小组件 */
        .desktop-widget {
            position: relative;
            width: 240px;
            height: 280px;
            background: rgba(249, 238, 242, 0.7);
            margin: 70px auto 20px;
            border-radius: 20px;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            box-shadow: 0 8px 20px rgba(140, 110, 130, 0.1);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            z-index: 2;
            overflow: hidden;
        }
        
        /* 可替换背景 */
        .widget-background {
            width: 100%;
            height: 100px;
            background: #ffffff;
            position: relative;
            z-index: 1;
        }
        
        /* 头像容器 */
        .avatar-container {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            overflow: hidden;
            margin-top: -40px;
            position: relative;
            z-index: 2;
            border: 3px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 4px 12px rgba(140, 110, 130, 0.2);
        }
        .avatar {
            width: 100%;
            height: 100%;
            background: #d8c0c9;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        /* 网名 */
        .username {
            font-size: 18px;
            font-weight: 700;
            color: #000;
            margin: 12px 0 8px;
            text-align: center;
            padding: 0 15px;
            max-width: 100%;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        /* 文案 */
        .widget-text {
            color: #000;
            font-size: 14px;
            text-align: center;
            line-height: 1.5;
            padding: 10px;
            background: rgba(255, 255, 255, 0.4);
            border-radius: 15px;
            width: 90%;
            margin: 0 auto 10px;
            font-weight: 700;
            min-height: 60px;
        }
        
        /* 定位 */
        .location {
            display: flex;
            align-items: center;
            justify-content: center;
            color: #000;
            font-weight: 600;
            padding: 4px 12px;
            background: rgba(255, 255, 255, 0.4);
            border-radius: 15px;
            margin-bottom: 15px;
            font-size: 12px;
        }
        .location svg {
            width: 14px;
            height: 14px;
            margin-right: 5px;
        }
        
        /* 应用网格 */
        .app-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            padding: 20px;
            position: absolute;
            bottom: 100px;
            left: 0;
            right: 0;
            z-index: 3;
        }
        .app-icon {
            text-align: center;
            cursor: pointer;
        }
        .app-icon span {
            font-size: 12px;
            color: #8a7f8d;
            display: block;
            margin-top: 5px;
        }
        
        /* 底部状态栏整体包裹 */
        .bottom-bar-container {
            position: absolute;
            bottom: 15px;
            left: 50%;
            transform: translateX(-50%);
            width: 300px;
            height: 60px;
            background: rgba(138, 127, 141, 0.15);
            border-radius: 30px;
            display: flex;
            justify-content: space-around;
            align-items: center;
            padding: 0 20px;
            backdrop-filter: blur(5px);
            z-index: 4;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        /* 底部图标 */
        .bottom-icon {
            width: 28px;
            height: 28px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .bottom-icon svg {
            width: 24px;
            height: 24px;
            fill: #8a7f8d;
        }
        
        /* 搜索框 */
        .search-container {
            position: absolute;
            bottom: 85px;
            left: 50%;
            transform: translateX(-50%);
            width: 280px;
            height: 36px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 18px;
            display: flex;
            align-items: center;
            padding: 0 15px;
            backdrop-filter: blur(5px);
            box-shadow: 0 4px 10px rgba(140, 110, 130, 0.1);
            z-index: 5;
        }
        .search-container svg {
            width: 16px;
            height: 16px;
            fill: #8a7f8d;
            margin-right: 10px;
        }
        .search-container input {
            flex: 1;
            border: none;
            background: transparent;
            font-size: 14px;
            color: #8a7f8d;
            outline: none;
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', sans-serif;
        }
        .search-container input::placeholder {
            color: #b8a9b3;
        }
        
        /* SVG图标样式 */
        .app-svg {
            width: 40px;
            height: 40px;
            display: block;
            margin: 0 auto;
            transition: all 0.3s ease;
        }
        
        /* 图标悬停效果 */
        .app-icon:hover .app-svg {
            transform: scale(1.1);
            filter: drop-shadow(0 3px 5px rgba(140, 110, 130, 0.2));
        }
        
        /* 移动端优化 */
        .editable {
            -webkit-user-select: none; /* 禁止文本选择 */
            user-select: none;
            cursor: pointer;
        }
        .editing-input {
            position: relative;
            z-index: 20; /* 确保在虚拟键盘上方 */
        }
    </style>
</head>
<body>
    <!-- 手机屏幕容器 -->
    <div class="phone-screen">
        <!-- iOS风格顶部状态栏 -->
        <div class="status-bar">
            <div class="status-left">
                <span id="time">9:41</span>
            </div>
            <div class="status-right">
                <!-- iOS风格电池图标 -->
                <div class="ios-battery">
                    <div class="ios-battery-body"></div>
                    <div class="ios-battery-cap"></div>
                    <div class="ios-battery-level"></div>
                </div>
            </div>
        </div>
        
        <!-- 黑色灵动岛 -->
        <div class="dynamic-island"></div>
        
        <!-- 桌面小组件 -->
        <div class="desktop-widget">
            <!-- 可替换背景 -->
            <div class="widget-background"></div>
            
            <!-- 头像 -->
            <div class="avatar-container">
                <div class="avatar">
                    <svg width="50" height="50" viewBox="0 0 24 24">
                        <path fill="#8a7f8d" d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                    </svg>
                </div>
            </div>
            
            <!-- 网名 -->
            <div class="username editable" id="username">可爱小仙女</div>
            
            <!-- 文案 -->
            <div class="widget-text editable" id="widget-text">
                (◕‿◕✿) 今天也是美好的一天<br>
                ✧*｡٩(ˊᗜˋ*)و✧*｡
            </div>
            
            <!-- 定位 -->
            <div class="location editable" id="location">
                <svg viewBox="0 0 24 24">
                    <path fill="#000" d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                </svg>
                <span>上海市中心 · 在线</span>
            </div>
        </div>
        
        <!-- 应用图标网格 -->
        <div class="app-grid">
            <!-- 聊天图标 -->
            <div class="app-icon">
                <svg class="app-svg" viewBox="0 0 24 24">
                    <path fill="#8a7f8d" d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"/>
                </svg>
                <span>聊天</span>
            </div>
            
            <!-- 角色图标 -->
            <div class="app-icon">
                <svg class="app-svg" viewBox="0 0 24 24">
                    <path fill="#8a7f8d" d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                </svg>
                <span>角色</span>
            </div>
            
            <!-- 设置图标 -->
            <div class="app-icon">
                <svg class="app-svg" viewBox="0 0 24 24">
                    <path fill="#8a7f8d" d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/>
                </svg>
                <span>设置</span>
            </div>
        </div>
        
        <!-- 搜索框 -->
        <div class="search-container">
            <svg viewBox="0 0 24 24">
                <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
            </svg>
            <input type="text" placeholder="搜索">
        </div>
        
        <!-- 底部状态栏 -->
        <div class="bottom-bar-container">
            <div class="bottom-icon">
                <svg viewBox="0 0 24 24">
                    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
                </svg>
            </div>
            <div class="bottom-icon">
                <svg viewBox="0 0 24 24">
                    <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                </svg>
            </div>
            <div class="bottom-icon">
                <svg viewBox="0 0 24 24">
                    <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                </svg>
            </div>
            <div class="bottom-icon">
                <svg viewBox="0 0 24 24">
                    <path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 9h12v2H6V9zm8 5H6v-2h8v2zm4-6H6V6h12v2z"/>
                </svg>
            </div>
            <div class="bottom-icon">
                <svg viewBox="0 0 24 24">
                    <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                </svg>
            </div>
        </div>
    </div>

    <script>
        // 时间更新功能
        function updateTime() {
            const now = new Date();
            document.getElementById('time').textContent = 
                now.getHours().toString().padStart(2, '0') + ':' + 
                now.getMinutes().toString().padStart(2, '0');
        }
        
        // 页面加载时运行
        updateTime();
        setInterval(updateTime, 1000);
        
        // 移动端优化：添加触摸事件支持
        function addMobileEvents() {
            // 为所有可编辑元素添加触摸事件
            const editables = document.querySelectorAll('.editable');
            
            editables.forEach(el => {
                // 添加触摸开始事件
                el.addEventListener('touchstart', function(e) {
                    e.preventDefault(); // 阻止默认滚动行为
                    this.classList.add('active'); // 添加激活状态
                });
                
                // 添加触摸结束事件（相当于点击）
                el.addEventListener('touchend', function(e) {
                    e.preventDefault();
                    this.classList.remove('active');
                    
                    // 根据ID调用对应的编辑函数
                    if (this.id === 'widget-text') {
                        editWidgetText.call(this);
                    } else if (this.id === 'username') {
                        editUsername.call(this);
                    } else if (this.id === 'location') {
                        editLocation.call(this);
                    }
                });
            });
        }
        
        // 小组件文字点击可编辑
        function editWidgetText() {
            const currentText = this.textContent;
            const textarea = document.createElement('textarea');
            textarea.value = currentText;
            textarea.className = 'editing-input';
            textarea.style.width = '100%';
            textarea.style.height = '80px';
            textarea.style.padding = '8px';
            textarea.style.borderRadius = '10px';
            textarea.style.border = '1px solid #d8c0c9';
            textarea.style.background = 'rgba(255,255,255,0.7)';
            textarea.style.color = '#000';
            textarea.style.fontSize = '14px';
            textarea.style.fontWeight = '700';
            textarea.style.fontFamily = '-apple-system, BlinkMacSystemFont, sans-serif';
            
            this.replaceWith(textarea);
            
            // 移动端优化：延迟聚焦确保键盘弹出
            setTimeout(() => {
                textarea.focus();
                // 滚动到可视区域中心（移动端优化）
                textarea.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }, 100);
            
            textarea.addEventListener('blur', function() {
                const newText = this.value;
                const textDiv = document.createElement('div');
                textDiv.className = 'widget-text editable';
                textDiv.id = 'widget-text';
                textDiv.textContent = newText;
                this.replaceWith(textDiv);
                
                // 重新绑定事件
                addMobileEvents();
            });
        }
        
        // 网名点击可编辑
        function editUsername() {
            const currentName = this.textContent;
            const input = document.createElement('input');
            input.type = 'text';
            input.className = 'editing-input';
            input.value = currentName;
            input.style.width = '100%';
            input.style.textAlign = 'center';
            input.style.fontSize = '18px';
            input.style.fontWeight = '700';
            input.style.color = '#000';
            input.style.background = 'transparent';
            input.style.border = '1px solid #d8c0c9';
            input.style.borderRadius = '8px';
            input.style.padding = '4px';
            input.style.outline = 'none';
            input.style.fontFamily = '-apple-system, BlinkMacSystemFont, sans-serif';
            
            this.replaceWith(input);
            
            // 移动端优化
            setTimeout(() => {
                input.focus();
                input.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }, 100);
            
            input.addEventListener('blur', function() {
                const newName = this.value || '可爱小仙女';
                const nameDiv = document.createElement('div');
                nameDiv.className = 'username editable';
                nameDiv.id = 'username';
                nameDiv.textContent = newName;
                this.replaceWith(nameDiv);
                
                // 重新绑定事件
                addMobileEvents();
            });
        }
        
        // 定位点击可编辑
        function editLocation() {
            const currentLocation = this.querySelector('span').textContent;
            const input = document.createElement('input');
            input.type = 'text';
            input.className = 'editing-input';
            input.value = currentLocation;
            input.style.width = 'calc(100% - 30px)';
            input.style.fontSize = '12px';
            input.style.fontWeight = '600';
            input.style.color = '#000';
            input.style.background = 'transparent';
            input.style.border = '1px solid #d8c0c9';
            input.style.borderRadius = '8px';
            input.style.padding = '4px 4px 4px 30px';
            input.style.outline = 'none';
            input.style.fontFamily = '-apple-system, BlinkMacSystemFont, sans-serif';
            
            // 创建容器来包裹图标和输入框
            const container = document.createElement('div');
            container.className = 'location editable editing-input';
            container.id = 'location';
            container.style.position = 'relative';
            
            // 添加定位图标
            const icon = document.createElement('div');
            icon.style.position = 'absolute';
            icon.style.left = '10px';
            icon.style.top = '50%';
            icon.style.transform = 'translateY(-50%)';
            icon.innerHTML = '<svg viewBox="0 0 24 24" width="14" height="14"><path fill="#000" d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>';
            
            container.appendChild(icon);
            container.appendChild(input);
            
            this.replaceWith(container);
            
            // 移动端优化
            setTimeout(() => {
                input.focus();
                container.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }, 100);
            
            input.addEventListener('blur', function() {
                const newLocation = this.value || '上海市中心 · 在线';
                const locationDiv = document.createElement('div');
                locationDiv.className = 'location editable';
                locationDiv.id = 'location';
                locationDiv.innerHTML = `
                    <svg viewBox="0 0 24 24">
                        <path fill="#000" d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                    </svg>
                    <span>${newLocation}</span>
                `;
                this.parentNode.replaceWith(locationDiv);
                
                // 重新绑定事件
                addMobileEvents();
            });
        }
        
        // 背景点击可替换
        document.querySelector('.widget-background').addEventListener('click', function() {
            const colors = ['#FFD1DC', '#B5EAD7', '#C7CEEA', '#FF9AA2', '#FFB7B2'];
            const randomColor = colors[Math.floor(Math.random() * colors.length)];
            this.style.background = randomColor;
        });
        
        // 移动端触摸事件绑定
        document.querySelector('.widget-background').addEventListener('touchend', function(e) {
            e.preventDefault();
            const colors = ['#FFD1DC', '#B5EAD7', '#C7CEEA', '#FF9AA2', '#FFB7B2'];
            const randomColor = colors[Math.floor(Math.random() * colors.length)];
            this.style.background = randomColor;
        });
        
        // 页面加载完成后初始化移动端事件
        document.addEventListener('DOMContentLoaded', function() {
            addMobileEvents();
            
            // 绑定点击事件（桌面端）
            document.getElementById('widget-text').addEventListener('click', editWidgetText);
            document.getElementById('username').addEventListener('click', editUsername);
            document.getElementById('location').addEventListener('click', editLocation);
        });
    </script>
</body>
</html>
